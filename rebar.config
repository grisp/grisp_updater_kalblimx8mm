{erl_opts, [debug_info]}.

{deps, [
    {grisp_uboot, {git, "https://github.com/grisp/grisp_uboot.git", {branch, "main"}}},
    {grisp_keychain, {git, "https://github.com/grisp/grisp_keychain.git", {branch, "main"}}},
    {grisp_updater, {git, "https://github.com/grisp/grisp_updater.git", {branch, "main"}}}
]}.

{project_plugins, [rebar3_ex_doc]}.
{hex, [{doc, ex_doc}]}.
{ex_doc, [
    {extras, [
          {"CHANGELOG.md", #{title => "Changelog"}},
          {"README.md", #{title => "Overview"}},
          {"LICENSE", #{title => "License"}}
    ]},
    {main, "README.md"},
    {homepage_url, "https://github.com/grisp/grisp_updater_kalblimx8mm"},
    {source_url, "https://github.com/grisp/grisp_updater_kalblimx8mm"}
]}.

{relx, [
    {release, {grisp_updater_kalblimx8mm, "1.0.0"}, [grisp_updater_kalblimx8mm]}
]}.

{profiles, [
    {prod, [
        {relx, [{sys_config, "config/sys.config"}]}
    ]},
    {dev, [
        {relx, [{sys_config, "config/dev.config"}]}
    ]},
    {local, [
        {erl_opts, [
            {d, 'EMULATE_HARDWARE'}
        ]},
        {shell, [
            {apps, [grisp_updater_kalblimx8mm]},
            {config, "config/local.config"}
        ]}
    ]}
]}.
